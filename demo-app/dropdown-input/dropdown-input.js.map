{"version":3,"file":"dropdown-input.js","sourceRoot":"","sources":["dropdown-input.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  Component,\n  ViewChild,\n  Input,\n  Renderer,\n  ElementRef,\n} from '@angular/core';\nimport {FORM_DIRECTIVES} from '@angular/common';\nimport {DROPDOWN_DIRECTIVES, Dropdown} from '../../components/dropdown/dropdown';\n\n\n@Component({\n  selector: 'dropdown-input',\n  directives: [\n    DROPDOWN_DIRECTIVES,\n    FORM_DIRECTIVES,\n  ],\n  template: `\n  <div #dropdown (open)=\"openDropdown()\" class=\"dropdown\">\n    <button class=\"btn btn-default dropdown-toggle\" type=\"button\">\n      {{ state.name || 'Content' }}\n    </button>\n    <div class=\"dropdown-menu\">\n      <div class=\"bs-searchbox\">\n        <input #searchInput [(ngModel)]=\"searchQuery\"\n                            (ngModelChange)=\"search()\"\n                            (click)=\"$event.stopPropagation()\"\n                            (keyup.enter)=\"useSearch()\"\n                            type=\"text\" class=\"form-control\" autocomplete=\"off\">\n      </div>\n      <div class=\"dropdown-menu-items\">\n        <a *ngFor=\"let ctx of filteredAvailable\"\n           (click)=\"pick(ctx)\"\n           class=\"dropdown-item\">\n           {{ctx.name}}\n        </a>\n      </div>\n    </div>\n  </div>\n  `,\n  styles: [`\n    .dropdown-menu-items {\n      height: 400px;\n      overflow-y: scroll;\n    }\n    .bs-searchbox {\n      padding: 4px 8px;\n    }\n  `]\n})\nexport class DropdownInput {\n  @ViewChild('searchInput') input: ElementRef;\n  @ViewChild(Dropdown) dropdown: Dropdown;\n\n  private state: Object = {};\n  private searchQuery: string = '';\n  private filteredAvailable = availableStates;\n\n  constructor(\n    private renderer: Renderer\n  ) { }\n  openDropdown() {\n    this.renderer.invokeElementMethod(this.input.nativeElement, 'focus', []);\n  }\n  useSearch() {\n    if (this.filteredAvailable[0]) {\n      this.pick(this.filteredAvailable[0]);\n      this.dropdown.close.emit(null);\n      this.searchQuery = '';\n      this.filteredAvailable = availableStates;\n    }\n  }\n  pick(subject: any) {\n    this.state = subject;\n  }\n  search() {\n    if (this.searchQuery) {\n      let query = this.searchQuery.toLowerCase();\n      this.filteredAvailable = availableStates.filter((s) => {\n        return s.name.toLowerCase().indexOf(query) !== -1;\n      });\n    } else {\n      this.filteredAvailable = availableStates;\n    }\n  }\n}\n\nconst availableStates = [\n  { \"name\": \"Alabama\", \"alpha-2\": \"AL\" },\n  { \"name\": \"Alaska\", \"alpha-2\": \"AK\" },\n  { \"name\": \"Arizona\", \"alpha-2\": \"AZ\" },\n  { \"name\": \"Arkansas\", \"alpha-2\": \"AR\" },\n  { \"name\": \"California\", \"alpha-2\": \"CA\" },\n  { \"name\": \"Colorado\", \"alpha-2\": \"CO\" },\n  { \"name\": \"Connecticut\", \"alpha-2\": \"CT\" },\n  { \"name\": \"Delaware\", \"alpha-2\": \"DE\" },\n  { \"name\": \"District of Columbia\", \"alpha-2\": \"DC\" },\n  { \"name\": \"Florida\", \"alpha-2\": \"FL\" },\n  { \"name\": \"Georgia\", \"alpha-2\": \"GA\" },\n  { \"name\": \"Hawaii\", \"alpha-2\": \"HI\" },\n  { \"name\": \"Idaho\", \"alpha-2\": \"ID\" },\n  { \"name\": \"Illinois\", \"alpha-2\": \"IL\" },\n  { \"name\": \"Indiana\", \"alpha-2\": \"IN\" },\n  { \"name\": \"Iowa\", \"alpha-2\": \"IA\" },\n  { \"name\": \"Kansas\", \"alpha-2\": \"KS\" },\n  { \"name\": \"Kentucky\", \"alpha-2\": \"KY\" },\n  { \"name\": \"Louisiana\", \"alpha-2\": \"LA\" },\n  { \"name\": \"Maine\", \"alpha-2\": \"ME\" },\n  { \"name\": \"Maryland\", \"alpha-2\": \"MD\" },\n  { \"name\": \"Massachusetts\", \"alpha-2\": \"MA\" },\n  { \"name\": \"Michigan\", \"alpha-2\": \"MI\" },\n  { \"name\": \"Minnesota\", \"alpha-2\": \"MN\" },\n  { \"name\": \"Mississippi\", \"alpha-2\": \"MS\" },\n  { \"name\": \"Missouri\", \"alpha-2\": \"MO\" },\n  { \"name\": \"Montana\", \"alpha-2\": \"MT\" },\n  { \"name\": \"Nebraska\", \"alpha-2\": \"NE\" },\n  { \"name\": \"Nevada\", \"alpha-2\": \"NV\" },\n  { \"name\": \"New Hampshire\", \"alpha-2\": \"NH\" },\n  { \"name\": \"New Jersey\", \"alpha-2\": \"NJ\" },\n  { \"name\": \"New Mexico\", \"alpha-2\": \"NM\" },\n  { \"name\": \"New York\", \"alpha-2\": \"NY\" },\n  { \"name\": \"North Carolina\", \"alpha-2\": \"NC\" },\n  { \"name\": \"North Dakota\", \"alpha-2\": \"ND\" },\n  { \"name\": \"Ohio\", \"alpha-2\": \"OH\" },\n  { \"name\": \"Oklahoma\", \"alpha-2\": \"OK\" },\n  { \"name\": \"Oregon\", \"alpha-2\": \"OR\" },\n  { \"name\": \"Pennsylvania\", \"alpha-2\": \"PA\" },\n  { \"name\": \"Rhode Island\", \"alpha-2\": \"RI\" },\n  { \"name\": \"South Carolina\", \"alpha-2\": \"SC\" },\n  { \"name\": \"South Dakota\", \"alpha-2\": \"SD\" },\n  { \"name\": \"Tennessee\", \"alpha-2\": \"TN\" },\n  { \"name\": \"Texas\", \"alpha-2\": \"TX\" },\n  { \"name\": \"Utah\", \"alpha-2\": \"UT\" },\n  { \"name\": \"Vermont\", \"alpha-2\": \"VT\" },\n  { \"name\": \"Virginia\", \"alpha-2\": \"VA\" },\n  { \"name\": \"Washington\", \"alpha-2\": \"WA\" },\n  { \"name\": \"West Virginia\", \"alpha-2\": \"WV\" },\n  { \"name\": \"Wisconsin\", \"alpha-2\": \"WI\" },\n  { \"name\": \"Wyoming\", \"alpha-2\": \"WY\" },\n];\n"]}