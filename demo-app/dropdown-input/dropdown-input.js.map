{"version":3,"file":"dropdown-input.js","sourceRoot":"","sources":["dropdown-input.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAMO,eAAe,CAAC,CAAA;AACvB,uBAA8B,iBAAiB,CAAC,CAAA;AAChD,yBAA4C,oCAAoC,CAAC,CAAA;AAEjF,IAAM,eAAe,GAAG;IACtB,SAAS;IACT,QAAQ;IACR,SAAS;IACT,UAAU;IACV,YAAY;IACZ,UAAU;IACV,aAAa;IACb,UAAU;IACV,sBAAsB;IACtB,SAAS;IACT,SAAS;IACT,QAAQ;IACR,OAAO;IACP,UAAU;IACV,SAAS;IACT,MAAM;IACN,QAAQ;IACR,UAAU;IACV,WAAW;IACX,OAAO;IACP,UAAU;IACV,eAAe;IACf,UAAU;IACV,WAAW;IACX,aAAa;IACb,UAAU;IACV,SAAS;IACT,UAAU;IACV,QAAQ;IACR,eAAe;IACf,YAAY;IACZ,YAAY;IACZ,UAAU;IACV,gBAAgB;IAChB,cAAc;IACd,MAAM;IACN,UAAU;IACV,QAAQ;IACR,cAAc;IACd,cAAc;IACd,gBAAgB;IAChB,cAAc;IACd,WAAW;IACX,OAAO;IACP,MAAM;IACN,SAAS;IACT,UAAU;IACV,YAAY;IACZ,eAAe;IACf,WAAW;IACX,SAAS;CACV,CAAC;AA2CF;IAQE,uBACU,QAAkB;QAAlB,aAAQ,GAAR,QAAQ,CAAU;QAL5B,gBAAW,GAAW,EAAE,CAAC;QACzB,sBAAiB,GAAG,eAAe,CAAC;IAKhC,CAAC;IACL,oCAAY,GAAZ;QAAA,iBAEC;QADC,UAAU,CAAC,cAAM,OAAA,KAAI,CAAC,QAAQ,CAAC,mBAAmB,CAAC,KAAI,CAAC,KAAK,CAAC,aAAa,EAAE,OAAO,CAAC,EAApE,CAAoE,CAAC,CAAC;IACzF,CAAC;IACD,iCAAS,GAAT;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC9B,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC;YACrC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YACpC,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;YACtB,IAAI,CAAC,iBAAiB,GAAG,eAAe,CAAC;QAC3C,CAAC;IACH,CAAC;IACD,4BAAI,GAAJ,UAAK,OAAY;QACf,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC;IACvB,CAAC;IACD,8BAAM,GAAN;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;YACrB,IAAI,OAAK,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;YAC3C,IAAI,CAAC,iBAAiB,GAAG,eAAe,CAAC,MAAM,CAAC,UAAC,CAAC;gBAChD,MAAM,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,OAAK,CAAC,KAAK,CAAC,CAAC,CAAC;YAC/C,CAAC,CAAC,CAAC;QACL,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,iBAAiB,GAAG,eAAe,CAAC;QAC3C,CAAC;IACH,CAAC;IAjCD;QAAC,gBAAS,CAAC,aAAa,CAAC;;gDAAA;IACzB;QAAC,gBAAS,CAAC,mBAAQ,CAAC;;mDAAA;IA3CtB;QAAC,gBAAS,CAAC;YACT,QAAQ,EAAE,gBAAgB;YAC1B,UAAU,EAAE;gBACV,8BAAmB;gBACnB,wBAAe;aAChB;YACD,QAAQ,EAAE,4xBAwBT;YACD,MAAM,EAAE,CAAC,+IAQR,CAAC;SACH,CAAC;;qBAAA;IAoCF,oBAAC;AAAD,CAAC,AAnCD,IAmCC;AAnCY,qBAAa,gBAmCzB,CAAA","sourcesContent":["import {\n  Component,\n  ViewChild,\n  Input,\n  Renderer,\n  ElementRef,\n} from '@angular/core';\nimport {FORM_DIRECTIVES} from '@angular/common';\nimport {DROPDOWN_DIRECTIVES, Dropdown} from '../../components/dropdown/dropdown';\n\nconst availableStates = [\n  'Alabama',\n  'Alaska',\n  'Arizona',\n  'Arkansas',\n  'California',\n  'Colorado',\n  'Connecticut',\n  'Delaware',\n  'District of Columbia',\n  'Florida',\n  'Georgia',\n  'Hawaii',\n  'Idaho',\n  'Illinois',\n  'Indiana',\n  'Iowa',\n  'Kansas',\n  'Kentucky',\n  'Louisiana',\n  'Maine',\n  'Maryland',\n  'Massachusetts',\n  'Michigan',\n  'Minnesota',\n  'Mississippi',\n  'Missouri',\n  'Montana',\n  'Nebraska',\n  'Nevada',\n  'New Hampshire',\n  'New Jersey',\n  'New Mexico',\n  'New York',\n  'North Carolina',\n  'North Dakota',\n  'Ohio',\n  'Oklahoma',\n  'Oregon',\n  'Pennsylvania',\n  'Rhode Island',\n  'South Carolina',\n  'South Dakota',\n  'Tennessee',\n  'Texas',\n  'Utah',\n  'Vermont',\n  'Virginia',\n  'Washington',\n  'West Virginia',\n  'Wisconsin',\n  'Wyoming',\n];\n\n@Component({\n  selector: 'dropdown-input',\n  directives: [\n    DROPDOWN_DIRECTIVES,\n    FORM_DIRECTIVES,\n  ],\n  template: `\n  <div #dropdown (open)=\"openDropdown()\" class=\"dropdown\">\n    <button class=\"btn btn-primary dropdown-toggle\" type=\"button\">\n      {{ state || 'Select a State' }}\n    </button>\n    <div class=\"dropdown-menu\">\n      <div class=\"bs-searchbox\">\n        <input #searchInput\n               [(ngModel)]=\"searchQuery\"\n               (ngModelChange)=\"search()\"\n               (click)=\"$event.stopPropagation()\"\n               (keyup.enter)=\"useSearch()\"\n               type=\"text\"\n               class=\"form-control\">\n      </div>\n      <div class=\"dropdown-menu-items\">\n        <a *ngFor=\"let s of filteredAvailable\"\n           (click)=\"pick(s)\"\n           class='dropdown-item'>\n           {{s}}\n        </a>\n      </div>\n    </div>\n  </div>\n  `,\n  styles: [`\n    .dropdown-menu-items {\n      height: 400px;\n      overflow-y: scroll;\n    }\n    .bs-searchbox {\n      padding: 4px 8px;\n    }\n  `],\n})\nexport class DropdownInput {\n  @ViewChild('searchInput') input: ElementRef;\n  @ViewChild(Dropdown) dropdown: Dropdown;\n\n  searchQuery: string = '';\n  filteredAvailable = availableStates;\n  state: string;\n\n  constructor(\n    private renderer: Renderer\n  ) { }\n  openDropdown() {\n    setTimeout(() => this.renderer.invokeElementMethod(this.input.nativeElement, 'focus'));\n  }\n  useSearch() {\n    if (this.filteredAvailable[0]) {\n      this.pick(this.filteredAvailable[0]);\n      this.dropdown.close.emit(undefined);\n      this.searchQuery = '';\n      this.filteredAvailable = availableStates;\n    }\n  }\n  pick(subject: any) {\n    this.state = subject;\n  }\n  search() {\n    if (this.searchQuery) {\n      let query = this.searchQuery.toLowerCase();\n      this.filteredAvailable = availableStates.filter((s) => {\n        return s.toLowerCase().indexOf(query) !== -1;\n      });\n    } else {\n      this.filteredAvailable = availableStates;\n    }\n  }\n}\n"]}